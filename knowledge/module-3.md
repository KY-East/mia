# 模块3: 合约交易深度解析

## 3.1 永续合约的本质 - 对赌协议

### 什么是永续合约？

**最简单的理解：**
你和交易所签了一份对赌协议：
- 你赌BTC会涨（做多）或会跌（做空）
- 如果赌对了，交易所给你钱
- 如果赌错了，你赔钱给交易所

**关键特点：**
1. 你不拥有真正的BTC
2. 只是在赌价格涨跌
3. 可以永久持有（没有到期日）
4. 可以用杠杆放大收益/亏损

### 永续合约 vs 现货的本质区别

| 维度 | 现货 | 永续合约 |
|------|------|----------|
| 本质 | 买卖真实资产 | 对赌价格涨跌 |
| 所有权 | 你真的拥有币 | 你不拥有币 |
| 提币 | 可以提到钱包 | 不能提币 |
| 杠杆 | 无杠杆(1倍) | 1-125倍杠杆 |
| 做空 | 不能做空 | 可以做空 |
| 爆仓 | 不会爆仓 | 会爆仓 |
| 资金费率 | 无 | 每8小时结算 |
| 持有时间 | 永久 | 永久（但有资金费率成本） |

### 做多 vs 做空 - 双向交易机制

**做多（Long / Buy）：**

**含义：**赌涨
**操作：**买入合约

**盈亏计算：**
- 价格涨 → 你赚钱
- 价格跌 → 你亏钱

**例子：**
BTC现价 $100,000
你开多单 1 BTC
→ 如果涨到 $110,000，你赚 $10,000
→ 如果跌到 $90,000，你亏 $10,000

**做空（Short / Sell）：**

**含义：**赌跌
**操作：**卖出合约（即使你没有BTC）

**盈亏计算：**
- 价格跌 → 你赚钱
- 价格涨 → 你亏钱

**例子：**
BTC现价 $100,000
你开空单 1 BTC
→ 如果跌到 $90,000，你赚 $10,000
→ 如果涨到 $110,000，你亏 $10,000

**为什么能做空？（原理解释）：**

**传统逻辑：**
"我没有BTC，怎么能卖BTC？"

**合约逻辑：**
你不是在卖真的BTC，而是在和交易所对赌：
1. 你说："我赌BTC会跌"
2. 交易所说："好，如果跌了我给你钱，涨了你给我钱"
3. 这是个协议，不需要你真的拥有BTC

**类比：**
就像赌球，你赌某队会输
你不需要拥有这支球队

## 3.2 杠杆机制 - 收益与风险的放大器

### 杠杆的本质：借钱赌博

**无杠杆的情况（1倍）：**
- 你有 $1,000
- BTC现价 $100,000
- 你买入 0.01 BTC

如果涨10% → BTC变成 $110,000
- 你的收益：$1,000 × 10% = $100
- 收益率：10%

**10倍杠杆的情况：**
- 你有 $1,000（保证金）
- 交易所借给你 $9,000
- 你实际控制 $10,000 的仓位（= 0.1 BTC）

如果涨10% → BTC变成 $110,000
- 你的收益：$10,000 × 10% = $1,000
- 收益率：100%（本金翻倍！）

如果跌10% → BTC变成 $90,000
- 你的亏损：$10,000 × 10% = $1,000
- 收益率：-100%（本金亏光！爆仓！）

### 杠杆倍数与风险对照表

| 杠杆倍数 | 允许亏损幅度 | 说明 |
|---------|-------------|------|
| 1倍 | 100% | 无杠杆，不会爆仓 |
| 2倍 | 50% | 价格跌50%爆仓 |
| 5倍 | 20% | 价格跌20%爆仓 |
| 10倍 | 10% | 价格跌10%爆仓 |
| 20倍 | 5% | 价格跌5%爆仓 |
| 50倍 | 2% | 价格跌2%爆仓 |
| 125倍 | 0.8% | 价格跌0.8%爆仓 |

**关键理解：**
杠杆越高 = 死得越快

**为什么新手容易爆仓？**
- 以为10倍杠杆能赚10倍
- 忽略了也会亏10倍
- BTC稍微波动一下就爆仓

### 爆仓的精确定义

**什么是爆仓？：**
当你的亏损达到保证金的100%，
交易所强制平仓，你的本金归零。

**例子（10倍杠杆）：**
- 保证金：$1,000
- 开仓价格：$100,000
- 仓位价值：$10,000

**爆仓价格：**
- 做多：$90,000（跌10%）
- 做空：$110,000（涨10%）

**到达爆仓价格时：**
- 系统自动平仓
- 你的$1,000全部亏光
- 不会欠交易所钱（有强平机制保护）

**爆仓计算公式：**
- 做多爆仓价 = 开仓价 × (1 - 1/杠杆倍数)
- 做空爆仓价 = 开仓价 × (1 + 1/杠杆倍数)

**例子（20倍杠杆）：**
- 开仓价 $100,000
- 做多爆仓价 = $100,000 × (1 - 1/20) = $95,000
- 做空爆仓价 = $100,000 × (1 + 1/20) = $105,000

## 3.3 保证金模式 - 全仓 vs 逐仓

### 全仓模式（Cross Margin）

**机制：**
你的整个合约账户余额都是保证金。

**场景：**
- 合约账户里有 $10,000
- 你用 $1,000 开了一个多单（10倍杠杆）

**如果亏损：**
- 亏到 $1,000，系统自动从剩余 $9,000 中补充保证金
- 继续亏，继续补
- 直到整个账户 $10,000 全部亏光才爆仓

**优点：**
✅ 不容易爆仓（因为有整个账户做后盾）
✅ 可以抗更大的波动

**缺点：**
⚠️ 一旦爆仓，整个账户归零
⚠️ 你没有下单的钱也会被用来补仓
⚠️ "火烧连营"，一个爆仓全部没了

**真实案例：**

**用户A：**
- 账户里有 $50,000
- 开了5个不同币种的多单，每个用 $2,000
- 其中1个暴跌，亏到 $2,000
- 系统从剩余 $40,000 中补仓
- 这个币继续暴跌，最终亏掉 $30,000
- **结果：**原本只想亏 $2,000，实际亏了 $30,000

**教训：**全仓模式下，单个仓位失控会拖累整个账户

### 逐仓模式（Isolated Margin）

**机制：**
每个仓位的保证金独立，不会互相影响。

**场景：**
- 合约账户里有 $10,000
- 你给某个仓位分配 $1,000 作为保证金

**如果亏损：**
- 只会亏这 $1,000
- 系统不会从剩余 $9,000 中补充
- 亏完 $1,000 就爆仓，不会继续扩大

**优点：**
✅ 风险可控（最多亏掉这个仓位的保证金）
✅ 不会波及其他资金
✅ 适合新手（保护本金）

**缺点：**
⚠️ 容易爆仓（因为保证金少）
⚠️ 抗波动能力弱

### 全仓 vs 逐仓对比总结

| 维度 | 全仓 | 逐仓 |
|------|------|------|
| 保证金范围 | 整个账户 | 单个仓位 |
| 爆仓条件 | 账户余额归零 | 仓位保证金归零 |
| 最大亏损 | 整个账户 | 单个仓位保证金 |
| 抗波动能力 | 强 | 弱 |
| 风险 | 极高 | 可控 |
| 适合人群 | 专业交易员 | 新手 |
| Mia建议 | ❌ 不要用 | ✅ 只用这个 |

### 新手必须遵守的铁律：

**永远只用逐仓模式！**

**理由：**
1. 保护本金（亏完一个仓位不会影响其他）
2. 强制风控（每次只能亏设定的保证金）
3. 避免情绪化补仓（全仓模式下容易一直补仓）

## 3.4 资金费率 - 持仓的隐性成本

### 资金费率的本质：多空平衡机制

**为什么需要资金费率？：**

**问题：**
永续合约没有到期日，价格如何锚定现货？

**例子：**
- 现货BTC价格：$100,000
- 如果合约价格涨到：$105,000（偏离5%）
- → 套利者会卖合约买现货，吃5%差价

但如果没人做套利，价格会一直偏离。

**解决方案：资金费率**
通过让多空双方互相支付费用，
把合约价格拉回现货价格。

### 资金费率的运作机制

**基本规则：**
每8小时结算一次（UTC 0:00, 8:00, 16:00）

**正费率（Positive Funding Rate）：**
- 合约价格 > 现货价格
- 说明做多的人太多（市场过于乐观）
- 惩罚：做多的人给做空的人付钱
- 目的：鼓励更多人做空，把价格压下来

**负费率（Negative Funding Rate）：**
- 合约价格 < 现货价格
- 说明做空的人太多（市场过于悲观）
- 惩罚：做空的人给做多的人付钱
- 目的：鼓励更多人做多，把价格抬上去

**资金费率计算公式：**
每8小时支付 = 持仓价值 × 资金费率

**例子1（正费率）：**
- 你做多 1 BTC，仓位价值 $100,000
- 资金费率：+0.01%
- 你需要支付：$100,000 × 0.01% = $10

**例子2（负费率）：**
- 你做空 1 BTC，仓位价值 $100,000
- 资金费率：-0.02%
- 你需要支付：$100,000 × 0.02% = $20

**例子3（正费率但你做空）：**
- 你做空 1 BTC，仓位价值 $100,000
- 资金费率：+0.01%
- 你会收到：$100,000 × 0.01% = $10

### 资金费率的实际影响

**高费率案例：**

**牛市疯狂时期：**
BTC资金费率可能达到 +0.1% 甚至更高

**场景：**
- 你做多 10 BTC（仓位价值 $1,000,000）
- 资金费率：+0.1%
- 每8小时支付：$1,000 × 3次/天 = $3,000/天

如果持仓7天：
- 资金费用：$21,000
- 即使BTC价格不动，你也亏了2.1%

### 资金费率的战略意义

**看资金费率判断市场情绪：**

**+0.05%以上：**
→ 市场极度贪婪（太多人做多）
→ 可能是顶部信号

**-0.05%以下：**
→ 市场极度恐慌（太多人做空）
→ 可能是底部信号

**接近0：**
→ 多空平衡
→ 市场健康

**关键要点：**

1. **短线交易（几小时内平仓）：**
   → 不用担心资金费率

2. **持仓过夜：**
   → 必须考虑资金费率成本

3. **长期持仓（几周）：**
   → 资金费率累积起来非常高
   → 可能吃掉大部分利润

4. **Mia建议：**
   → 如果要持仓过8小时，先看资金费率
   → 如果费率>0.05%，考虑现货而非合约

## 3.5 合约交易实操 - 完整流程

### 开仓前的准备工作

**Step 1: 资金划转（2分钟）**

**操作路径：**
资产 → 资金划转 → 从"资金账户"到"合约账户"

**注意：**
- 现货和合约是两个独立账户
- 必须先划转才能交易合约
- 建议只划转你愿意承担损失的钱

**Step 2: 选择合约类型（1分钟）**

**USDT保证金合约（推荐）：**
- 用USDT做保证金
- 盈亏结算用USDT
- 最常用，流动性最好

**币保证金合约：**
- 用BTC/ETH做保证金
- 盈亏结算用对应的币
- 适合长期持币者对冲风险

**Step 3: 设置保证金模式（关键）**

**操作路径：**
合约交易页面 → 右上角 → 保证金模式

**选择：**逐仓（Isolated）
**杠杆：**建议新手从5倍开始

⚠️ **重要：**
- 每次开单前都要确认是逐仓
- 不要用全仓

### 合约交易风险警告

**常见新手误区：**

**误区1："杠杆能让我快速暴富"**
- **现实：**99%的合约交易者长期是亏损的
- 杠杆放大收益，也放大亏损
- 统计：80%的新手在3个月内爆仓离场
- 只有不到5%的人能稳定盈利

**误区2："我会设止损，所以很安全"**
- **现实：**极端行情下止损会滑点
- "插针"行情会直接击穿止损
- 止损只能减少损失，不能完全避免

**误区3："我先小资金练手，熟了再加大"**
- **陷阱：**小资金时心态轻松，可能赚钱
- 大资金时心态紧张，往往亏钱
- 这不是技术问题，是心理问题

---

::: danger ⚠️ 重要警告
合约交易风险极高！
- 新手建议先从现货开始
- 充分理解风险后再尝试合约
- 永远不要ALL IN
- 永远只用逐仓模式
- 杠杆不要超过10倍
:::

**[查看更多合约交易详情 →](/execution/day-8-30)**
